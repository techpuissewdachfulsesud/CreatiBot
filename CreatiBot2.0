import SwiftUIstruct ContentView: View {@State private var userInput = ""@State private var chatMessages: [ChatMessage] = [ChatMessage(sender: "bot", text: "Ahoj! Jsem CreatiBot. Jak vám mohu pomoci?")]@State private var settingsMenuVisible = false@State private var historyVisible = false@State private var feedbackEnabled = false@State private var darkModeEnabled = truevar body: some View {ZStack {if darkModeEnabled {Color.black.edgesIgnoringSafeArea(.all)} else {Color.white.edgesIgnoringSafeArea(.all)}VStack {ScrollView {VStack {ForEach(chatMessages) { message inHStack {if message.sender == "bot" {Text("CreatiBot: \(message.text)").padding().background(Color.green.opacity(0.2)).cornerRadius(8).foregroundColor(darkModeEnabled ? Color.green : Color.black).frame(maxWidth: .infinity, alignment: .leading)} else {Text(message.text).padding().background(Color.blue.opacity(0.2)).cornerRadius(8).foregroundColor(darkModeEnabled ? Color.blue : Color.black).frame(maxWidth: .infinity, alignment: .trailing)}}}}.padding()}.background(darkModeEnabled ? Color.black : Color.white)HStack {TextField("Napište zprávu...", text: $userInput).padding().background(darkModeEnabled ? Color.gray : Color.white).foregroundColor(darkModeEnabled ? Color.white : Color.black).cornerRadius(4)Button(action: sendMessage) {Text("Odeslat").padding().background(Color.blue).foregroundColor(Color.white).cornerRadius(4)}.disabled(userInput.isEmpty)}.padding()HStack {Button(action: newChat) {Text("Nový Chat").padding().background(Color.blue).foregroundColor(Color.white).cornerRadius(4)}Button(action: { settingsMenuVisible.toggle() }) {Text("Nastavení").padding().background(Color.blue).foregroundColor(Color.white).cornerRadius(4)}Button(action: { historyVisible.toggle() }) {Text("Historie Zpráv").padding().background(Color.blue).foregroundColor(Color.white).cornerRadius(4)}}.padding()}if settingsMenuVisible {SettingsMenu(feedbackEnabled: $feedbackEnabled, darkModeEnabled: $darkModeEnabled, isVisible: $settingsMenuVisible)}if historyVisible {HistoryView(chatMessages: $chatMessages, isVisible: $historyVisible)}}}func sendMessage() {let newUserMessage = ChatMessage(sender: "user", text: userInput)chatMessages.append(newUserMessage)let botResponse = generateResponse(userInput)let newBotMessage = ChatMessage(sender: "bot", text: botResponse)chatMessages.append(newBotMessage)userInput = ""if feedbackEnabled {// Předpokládáme, že zpětná vazba pro nevidomé je alertprint("CreatiBot odpověděl: \(botResponse)")}}func newChat() {chatMessages = [ChatMessage(sender: "bot", text: "Ahoj! Jsem CreatiBot. Jak vám mohu pomoci?")]}func generateResponse(_ userInput: String) -> String {let predefinedResponses = [(["ahoj", "čau", "zdravím"], "Ahoj! Jak se máte?"),// ...ostatní odpovědi]for (keywords, response) in predefinedResponses {if keywords.contains(where: userInput.lowercased().contains) {return response}}return "Promiňte, nerozumím. Můžete to prosím zopakovat?"}}struct ChatMessage: Identifiable {let id = UUID()let sender: Stringlet text: String}struct SettingsMenu: View {@Binding var feedbackEnabled: Bool@Binding var darkModeEnabled: Bool@Binding var isVisible: Boolvar body: some View {VStack {Text("Nastavení").font(.headline)Toggle("Zapnout/vypnout zpětnou vazbu", isOn: $feedbackEnabled).padding()Button(action: { isVisible.toggle() }) {Text("Zavřít").padding().background(Color.blue).foregroundColor(Color.white).cornerRadius(4)}}.padding().background(Color.gray).cornerRadius(8).shadow(radius: 10)}}